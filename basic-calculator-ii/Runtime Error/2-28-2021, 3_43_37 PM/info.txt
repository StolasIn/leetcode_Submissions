{"id":461624085,"lang":"cpp","time":"1 year, 3 months","timestamp":1614498217,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/461624085/","is_pending":"Not Pending","title":"Basic Calculator II","memory":"N/A","code":"class Solution {\npublic:\n    struct data{\n        int d;\n        bool f;\n    };\n    int calculate(string str) {\n        if(str.size()==1) return atoi(str.c_str());\n        stack<char> st;\n        vector<data> exp;\n        stack<int> ans;\n        int dig=0;\n        int m=str.size();\n        vector<int> pri(6);\n        pri['+'-42]=pri['-'-42]=1;\n        pri['*'-42]=pri['/'-42]=2;\n        for(int i=0;i<m;i++){\n            if(str[i]==' ') continue;\n            if(isdigit(str[i])){\n                dig=dig*10+str[i]-'0';\n            }\n            else{\n                exp.emplace_back(data{dig,1});\n                if(st.empty() || pri[str[i]-42]>pri[st.top()-42]){\n                    st.push(str[i]);\n                }\n                else{\n                    while(!st.empty() && pri[str[i]-42]<=pri[st.top()-42]){\n                        exp.emplace_back(data{(int)st.top(),0});\n                        st.pop();\n                    }\n                    st.push(str[i]);\n                }\n                dig=0;\n            }\n        }\n        if(dig!=0){\n            exp.emplace_back(data{dig,1});\n        }\n        while(!st.empty()){\n            exp.emplace_back(data{(int)st.top(),0});\n            st.pop();\n        }\n        for(auto i : exp){\n            if(i.f==true){\n                ans.push(i.d);\n            }\n            else{\n                auto t1=ans.top();\n                ans.pop();\n                auto t2=ans.top();\n                ans.pop();\n                if(i.d==42){\n                    ans.push(t1*t2);\n                }\n                else if(i.d==43){\n                    ans.push(t1+t2);\n                }\n                else if(i.d==45){\n                    ans.push(t2-t1);\n                }\n                else if(i.d==47){\n                    ans.push(t2/t1);\n                }\n            }\n        }\n        return ans.top();\n    }\n};","compare_result":"1111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000","title_slug":"basic-calculator-ii"}