{"id":455456570,"lang":"cpp","time":"1 year, 4 months","timestamp":1613205153,"status_display":"Accepted","runtime":"16 ms","url":"/submissions/detail/455456570/","is_pending":"Not Pending","title":"Course Schedule II","memory":"14.1 MB","code":"class Solution {\npublic:\n    int time=0;\n    vector<vector<int>> dag;\n    vector<int> vis;\n    struct node{\n        int ver,fin;  \n    };\n    vector<node> so;\n    static bool cmp(node a,node b){\n        return a.fin>b.fin;\n    }\n    bool flag=false;\n    void dfs(int x){\n        if(flag==true) return;\n        if(vis[x]==1){\n            flag=true;\n            return;\n        }\n        if(vis[x]==2){\n            return;\n        }\n        vis[x]=1;\n        time++;\n        for(auto i : dag[x]){\n            dfs(i);\n        }\n        vis[x]=2;\n        time++;\n        so[x].ver=x;\n        so[x].fin=time;\n    }\n    vector<int> findOrder(int num, vector<vector<int>>& pre) {\n        vector<int> ans;\n        if(pre.size()==0){\n            for(int i=0;i<num;i++) ans.emplace_back(i);\n            return ans;\n        }\n        dag.resize(num);\n        so.resize(num);\n        vis=vector<int>(num,0);\n        int m=pre.size();\n        for(int i=0;i<m;i++){\n            dag[pre[i][1]].emplace_back(pre[i][0]);\n        }\n        for(int i=0;i<num;i++){\n            if(vis[i]==0)\n                dfs(i);\n            if(flag==true) return vector<int>(0);\n        }\n        sort(so.begin(),so.end(),cmp);\n        for(int i=0;i<num;i++){\n            ans.emplace_back(so[i].ver);\n        }\n        return ans;\n    }\n};","compare_result":"11111111111111111111111111111111111111111111","title_slug":"course-schedule-ii"}