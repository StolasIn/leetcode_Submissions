{"id":512991708,"lang":"cpp","time":"12Â months","timestamp":1624622584,"status_display":"Accepted","runtime":"380 ms","url":"/submissions/detail/512991708/","is_pending":"Not Pending","title":"Range Sum Query - Mutable","memory":"150.8 MB","code":"class NumArray {\npublic:\n    vector<int> bit;\n    vector<int> n;\n    NumArray(vector<int>& nums) {\n        n.assign(nums.begin(),nums.end());\n        bit.assign(nums.size()+1,0);\n        for(int i=1;i<bit.size();i++){\n            for(int j=i;j<bit.size();){\n                bit[j]+=nums[i-1];\n                j+=(j&(-j));\n            }\n        }\n    }\n    \n    void update(int index, int val) {\n        int v=val-n[index];\n        bit[index+1]+=v;\n        n[index]=val;\n        index+=((index+1)&(-index-1))+1;\n        for(int j=index;j<bit.size();){\n            bit[j]+=v;\n            j+=(j&(-j));\n        }\n    }\n    \n    int sumRange(int left, int right) {\n        int l=0,r=0;\n        for(int i=left;i>0;){\n            l+=bit[i];\n            i-=(i&(-i));\n        }\n        for(int i=right+1;i>0;){\n            r+=bit[i];\n            i-=(i&(-i));\n        }\n        return r-l;\n    }\n};\n\n/**\n * Your NumArray object will be instantiated and called as such:\n * NumArray* obj = new NumArray(nums);\n * obj->update(index,val);\n * int param_2 = obj->sumRange(left,right);\n */","compare_result":"111111111111111","title_slug":"range-sum-query-mutable"}