{"id":461614235,"lang":"cpp","time":"1 year, 3 months","timestamp":1614496405,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/461614235/","is_pending":"Not Pending","title":"Basic Calculator II","memory":"N/A","code":"class Solution {\npublic:\n    struct data{\n        int d;\n        bool f;\n    };\n    int calculate(string s) {\n        stack<char> st;\n        vector<data> exp;\n        stack<int> ans;\n        string str;\n        string dig=\"\";\n        int m=s.size();\n        vector<int> pri(128);\n        pri['+']=pri['-']=1;\n        pri['*']=pri['/']=2;\n        for(int i=0;i<m;i++){\n            if(s[i]!=' '){\n                str+=s[i];\n            }\n        }\n        m=str.size();\n        for(int i=0;i<m;i++){\n            if(isdigit(str[i])){\n                dig+=str[i];\n            }\n            else{\n                exp.emplace_back(data{atoi(dig.c_str()),1});\n                if(st.empty() || pri[str[i]]>pri[st.top()]){\n                    st.push(str[i]);\n                }\n                else{\n                    while(!st.empty() && pri[str[i]]>pri[st.top()]){\n                        exp.emplace_back(data{(int)st.top(),0});\n                        st.pop();\n                    }\n                    st.push(str[i]);\n                }\n                dig=\"\";\n            }\n        }\n        if(dig!=\"\"){\n            exp.emplace_back(data{atoi(dig.c_str()),1});\n        }\n        while(!st.empty()){\n            exp.emplace_back(data{(int)st.top(),0});\n            st.pop();\n        }\n        for(auto i : exp){\n            if(i.f==true){\n                ans.push(i.d);\n            }\n            else{\n                auto t1=ans.top();\n                ans.pop();\n                auto t2=ans.top();\n                ans.pop();\n                if(i.d==42){\n                    ans.push(t1*t2);\n                }\n                else if(i.d==43){\n                    ans.push(t1+t2);\n                }\n                else if(i.d==45){\n                    ans.push(t2-t1);\n                }\n                else if(i.d==47){\n                    ans.push(t2/t1);\n                }\n            }\n        }\n        return ans.top();\n    }\n};","compare_result":"1111111111111111111111111111111111111001100001110000110000010010100000000000000000000000000000000000000000000","title_slug":"basic-calculator-ii"}