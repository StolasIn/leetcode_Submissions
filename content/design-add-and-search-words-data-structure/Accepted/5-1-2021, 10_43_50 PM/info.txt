{"id":487439129,"lang":"cpp","time":"1 year, 1 month","timestamp":1619880230,"status_display":"Accepted","runtime":"148 ms","url":"/submissions/detail/487439129/","is_pending":"Not Pending","title":"Design Add and Search Words Data Structure","memory":"45.7 MB","code":"class trie_node{\npublic:\n    bool isend;\n    vector<trie_node*> link;\n    trie_node(){\n        isend=false;\n        link.assign(26,nullptr);\n    }\n};\nclass Trie {\npublic:\n    /** Initialize your data structure here. */\n    trie_node* root;\n    trie_node* trie_pointer;\n    int counter;\n    Trie() {\n        root=new trie_node();\n    }\n    /** Inserts a word into the trie. */\n    void insert(string word) {\n        counter=0;\n        int m=word.size();\n        trie_pointer=root;\n        while(counter<word.size()){\n            if(trie_pointer->link[word[counter]-'a']==nullptr){\n                trie_pointer->link[word[counter]-'a']=new trie_node();\n            }\n            trie_pointer=trie_pointer->link[word[counter]-'a'];\n            counter++;\n        }\n        trie_pointer->isend=true;\n    }\n    \n    /** Returns if the word is in the trie. */\n    bool search(trie_node* tr,string& word,int idx) {\n        if(tr==nullptr) return false;\n        if(idx==word.size()){\n            if(tr->isend==true) return true;\n            return false;\n        }\n        else{\n            if(word[idx]!='.'){\n                return search(tr->link[word[idx]-'a'],word,idx+1);\n            }\n            else{\n                bool flag=false;\n                for(int i=0;i<tr->link.size();i++){\n                    flag |= search(tr->link[i],word,idx+1);\n                }\n                return flag;\n            }\n        }\n    }\n    \n    /** Returns if there is any word in the trie that starts with the given prefix. */\n    bool startsWith(string prefix) {\n        trie_pointer=root;\n        counter=0;\n        while(trie_pointer!=nullptr && counter<prefix.size()){\n            trie_pointer=trie_pointer->link[prefix[counter++]-'a'];\n        }\n        if(trie_pointer==nullptr) return false;\n        else{\n            if(trie_pointer->isend==true) return true;\n            for(int i=0;i<26;i++){\n                if(trie_pointer->link[i]!=nullptr){\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n};\nclass WordDictionary {\npublic:\n    /** Initialize your data structure here. */\n    Trie t;\n    WordDictionary() {\n        t=Trie();\n    }\n    \n    void addWord(string word) {\n        t.insert(word);\n    }\n    \n    bool search(string word) {\n        return t.search(t.root,word,0);\n    }\n};\n\n/**\n * Your WordDictionary object will be instantiated and called as such:\n * WordDictionary* obj = new WordDictionary();\n * obj->addWord(word);\n * bool param_2 = obj->search(word);\n */","compare_result":"1111111111111","title_slug":"design-add-and-search-words-data-structure"}